function bringSelectedIframeToTop(n){DIF_raiseSelectedIframe=n}function allowDragOffScreen(n){DIF_allowDragOffScreen=n}function addHandle(n,win){var i,r,topRefStr,t;if(arguments.length==2&&win==window){for(i=win;i=i.parent;){if(i.addHandle){i.addHandle(n,win,!0);return}if(i==win.top)return}return}for(r=win,topRefStr="window";r.parent&&r.parent!=window;)r=r.parent,topRefStr=topRefStr+".parent";if(typeof win.DIF_mainHandlersAdded=="undefined"||!win.DIF_mainHandlersAdded)with(win)eval("function OnMouseDownHandler(evt) { if(typeof(evt)=='undefined'){evt=event;}"+topRefStr+".parent.DIF_begindrag(evt, "+topRefStr+") }"),eval("document.onmousedown = OnMouseDownHandler;"),eval("function OnMouseUpHandler(evt) { if(typeof(evt)=='undefined'){evt=event;}"+topRefStr+".parent.DIF_enddrag(evt, "+topRefStr+") }"),eval("document.onmouseup = OnMouseUpHandler;"),eval("function OnMouseMoveHandler(evt) { if(typeof(evt)=='undefined'){evt=event;}"+topRefStr+".parent.DIF_iframemove(evt, "+topRefStr+") }"),eval("document.onmousemove = OnMouseMoveHandler;"),win.DIF_handlersAdded=!0,win.DIF_mainHandlersAdded=!0;typeof window.DIF_handlersAdded=="undefined"&&window.DIF_handlersAdded||(eval("function OnMouseMoveHandler(evt) { if(typeof(evt)=='undefined'){evt=event;}DIF_mouseMove(evt, window) }"),eval("document.onmousemove = OnMouseMoveHandler;"),eval("function OnMouseUpHandler(evt) { if(typeof(evt)=='undefined'){evt=event;}DIF_enddrag(evt, window) }"),eval("document.onmouseup = OnMouseUpHandler;"),window.DIF_handlersAdded=!0),$j(n).mouseenter(function(){window.visiblePopup&&(this.style.cursor=window.visiblePopup.data("fullScreen")?"default":"move")}),DIF_cleanCollections(),t=DIF_getIframeId(r),DIF_handles[t]==null&&(DIF_handles[t]=[],DIF_iframeMouseDownLeft[t]=0,DIF_iframeMouseDownTop[t]=0,DIF_pageMouseDownLeft[t]=0,DIF_pageMouseDownTop[t]=0),DIF_handles[t][DIF_handles[t].length]=n}function DIF_cleanCollections(){var r=Object.keys(DIF_handles),i,n,t,u;if(r.length>0){for(i=0;i<r.length;i++){for(n=r[i],t=0,t=0;t<DIF_handles[n].length;t++){try{u=DIF_handles[n][t]==undefined}catch(f){DIF_handles[n].splice(t,1),delete DIF_iframeWindows[n],delete DIF_iframeObjects[n];continue}document.getElementById(n)||(DIF_handles[n].splice(t,1),delete DIF_iframeWindows[n],delete DIF_iframeObjects[n])}DIF_handles[n].length==0&&delete DIF_handles[n]}DIF_handles==null&&(DIF_handles={}),DIF_iframeWindows==null&&(DIF_iframeWindows={}),DIF_iframeObjects==null&&(DIF_iframeObjects={})}}function DIF_getEventPosition(n){var t={};return t.x=0,t.y=0,n||(n=window.event),typeof n.pageX=="number"?(t.x=n.pageX,t.y=n.pageY):(t.x=n.clientX,t.y=n.clientY,top.opera||(window.document.compatMode&&window.document.compatMode!="BackCompat"?(t.x+=window.document.documentElement.scrollLeft,t.y+=window.document.documentElement.scrollTop):(t.x+=window.document.body.scrollLeft,t.y+=window.document.body.scrollTop))),t}function DIF_getIframeId(n){for(var u=document.getElementsByTagName("IFRAME"),t,i,r=0;r<u.length;r++)if(t=u.item(r),i=null,t.contentWindow?i=t.contentWindow:window.frames&&window.frames[t.id].window&&(i=window.frames[t.id]),i==n)return DIF_iframeWindows[t.id]=n,DIF_iframeObjects[t.id]=t,t.id;return null}function DIF_getObjectXY(n){var i={},t;return i.x=0,i.y=0,n!=null&&(t=$j(n).parent(),i.x=t.css("left").substring(0,t.css("left").indexOf("px")),i.y=t.css("top").substring(0,t.css("top").indexOf("px"))),i}function getSrcElement(n){for(var t=n.target;t.nodeType!=1;)t=t.parentNode;return t}function isHandleClicked(n,t){if(n==t)return!0;while(t.parentNode!=null){if(t==n)return!0;t=t.parentNode}return!1}function DIF_begindrag(n,t){var i=DIF_getIframeId(t),e,o,u,r,f;if(i!=null&&DIF_handles[i]!=null&&!(DIF_handles[i].length<1)){for(e=!1,o=n.srcElement||getSrcElement(n),u=0;u<DIF_handles[i].length;u++)if(isHandleClicked(DIF_handles[i][u],o)){e=!0;break}if(!e)return!1;DIF_iframeBeingDragged=i,DIF_raiseSelectedIframe&&(DIF_iframeObjects[DIF_iframeBeingDragged].style.zIndex=DIF_highestZIndex++),DIF_dragging=!0,r=DIF_getEventPosition(n),DIF_iframeMouseDownLeft[DIF_iframeBeingDragged]=r.x,DIF_iframeMouseDownTop[DIF_iframeBeingDragged]=r.y,f=DIF_getObjectXY(DIF_iframeObjects[DIF_iframeBeingDragged]),DIF_pageMouseDownLeft[DIF_iframeBeingDragged]=f.x-0+r.x,DIF_pageMouseDownTop[DIF_iframeBeingDragged]=f.y-0+r.y}}function DIF_enddrag(){DIF_dragging=!1,DIF_iframeBeingDragged=""}function DIF_mouseMove(n){if(DIF_dragging){var t=DIF_getEventPosition(n);DIF_drag(t.x-DIF_pageMouseDownLeft[DIF_iframeBeingDragged],t.y-DIF_pageMouseDownTop[DIF_iframeBeingDragged])}}function DIF_iframemove(n){if(DIF_dragging){var t=DIF_getEventPosition(n);DIF_drag(t.x-DIF_iframeMouseDownLeft[DIF_iframeBeingDragged],t.y-DIF_iframeMouseDownTop[DIF_iframeBeingDragged])}}function DIF_drag(n,t){var v=DIF_getObjectXY(DIF_iframeObjects[DIF_iframeBeingDragged]),i=$j(DIF_iframeObjects[DIF_iframeBeingDragged]).parent(),a=$j(document),o=a.scrollLeft(),e=a.scrollTop(),r=v.x-0+n,u=v.y-0+t,f;if(!DIF_allowDragOffScreen){var h=$j(window),y=h.width()-i.outerWidth()+o,l=h.height()-i.outerHeight()+e,s=o,c=e;r<s?r=s:r>y&&(r=y),u<c?u=c:u>l&&(u=l)}i.data("fullScreen")||(i.css("left",r+"px"),i.css("top",u+"px"),f={left:r-o,top:u-e},i.data("originalOffset",f),i.data("actualOffset",f),DIF_pageMouseDownLeft[DIF_iframeBeingDragged]+=n,DIF_pageMouseDownTop[DIF_iframeBeingDragged]+=t)}var DIF_dragging=!1,DIF_iframeBeingDragged="",DIF_iframeObjects={},DIF_iframeWindows={},DIF_iframeMouseDownLeft={},DIF_iframeMouseDownTop={},DIF_pageMouseDownLeft={},DIF_pageMouseDownTop={},DIF_handles={},DIF_highestZIndex=99,DIF_raiseSelectedIframe=!1,DIF_allowDragOffScreen=!1;Object.keys||(Object.keys=function(n){if(n!==Object(n))throw new TypeError("Object.keys called on non-object");var i=[],t;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.push(t);return i})